# TopGun Zero-Touch Setup Environment Variables
# Copy this file to .env and customize for your deployment
# Usage: docker compose --profile auto-setup --env-file .env up

# ============================================================================
# CORE CONFIGURATION
# ============================================================================

# Enable automatic setup (required for zero-touch)
TOPGUN_AUTO_SETUP=true

# Deployment mode: 'standalone' or 'cluster'
TOPGUN_DEPLOYMENT_MODE=standalone

# Strict mode: exit on setup failure instead of falling back to Setup Wizard
# TOPGUN_AUTO_SETUP_STRICT=true

# ============================================================================
# STORAGE CONFIGURATION
# ============================================================================

# Storage type: 'sqlite', 'postgres', or 'memory'
TOPGUN_STORAGE_TYPE=postgres

# PostgreSQL connection string (required if TOPGUN_STORAGE_TYPE=postgres)
DATABASE_URL=postgres://topgun:topgun_dev@postgres:5432/topgun

# SQLite data directory (used if TOPGUN_STORAGE_TYPE=sqlite)
# TOPGUN_DATA_DIR=./data

# ============================================================================
# ADMIN CREDENTIALS
# ============================================================================

# Admin username (default: 'admin')
TOPGUN_ADMIN_USER=admin

# Admin password - use ONE of these methods:
# Option 1: Direct password (not recommended for production)
# TOPGUN_ADMIN_PASSWORD=your-secure-password-here

# Option 2: Password from file (recommended for Docker/Kubernetes)
TOPGUN_ADMIN_PASSWORD_FILE=/run/secrets/admin_password

# Admin email (optional)
TOPGUN_ADMIN_EMAIL=admin@example.com

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Main WebSocket server port
TOPGUN_PORT=8080

# Metrics/Admin API port
TOPGUN_METRICS_PORT=9090

# Bind address (use 0.0.0.0 for Docker)
# TOPGUN_HOST=0.0.0.0

# ============================================================================
# INTEGRATIONS (Optional)
# ============================================================================

# Model Context Protocol
TOPGUN_MCP_ENABLED=false
# TOPGUN_MCP_PORT=3001
# TOPGUN_MCP_TOKEN=your-mcp-token

# Vector Search
TOPGUN_VECTOR_ENABLED=false
# TOPGUN_VECTOR_MODEL=local

# ============================================================================
# SECRETS PROVIDER (Optional)
# ============================================================================

# Secrets provider: 'env' (default), 'file', or 'vault'
# TOPGUN_SECRETS_PROVIDER=env

# HashiCorp Vault (if TOPGUN_SECRETS_PROVIDER=vault)
# TOPGUN_VAULT_ADDR=https://vault.example.com:8200
# TOPGUN_VAULT_TOKEN=your-vault-token
# TOPGUN_VAULT_PATH=secret/topgun

# ============================================================================
# DATABASE CREDENTIALS (for docker-compose)
# ============================================================================

DB_USER=topgun
DB_PASSWORD=topgun_dev
DB_NAME=topgun
